{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Person","person","handleDelete","name","number","onClick","Persons","filteredPersons","map","Filter","handleChange","onChange","PersonForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","type","Notification","status","message","style","color","borderStyle","borderColor","fontSize","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setFilteredPersons","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","filter","toLowerCase","indexOf","target","preventDefault","find","window","confirm","changedPerson","setTimeout","catch","error","newPerson","concat","personToDelete","alert","ReactDOM","render","document","getElementById"],"mappings":"wKACMA,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAAG,GAEX,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAACG,EAAGF,GAEf,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCZ9BM,EANA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,+BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAA1B,IAAkC,wBAAQC,QAAS,kBAAMH,EAAaD,EAAOJ,KAA3C,wBCQvBS,EATC,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,gBAAiBL,EAAmB,EAAnBA,aAClC,OACE,6BACGK,EAAgBC,KAAI,SAACP,GAAD,OAAY,cAAC,EAAD,CAA0BA,OAAQA,EAAQC,aAAcA,GAA3CD,EAAOE,YCK5CM,EATA,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAChB,OACE,qDACoB,uBAAOC,SAAUD,QCoB1BE,EAvBI,SAAC,GAA8E,IAA7EC,EAA4E,EAA5EA,aAAcC,EAA8D,EAA9DA,iBAAkBC,EAA4C,EAA5CA,mBAAoBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,UAChF,OACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBACJF,SAAUG,EACVK,MAAOH,OAGX,2CACU,uBACNL,SAAUI,EACVI,MAAOF,OAGX,8BACE,wBAAQG,KAAK,SAAb,uBCcOC,EA9BM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAmB5B,OAAgB,OAAZA,EACO,KAIP,qBAAKC,MAAkB,YAAXF,EAvBK,CACjBG,MAAO,QACPC,YAAa,QACbC,YAAa,QACbC,SAAU,GACVC,QAAS,GACTC,aAAc,IAGC,CACfL,MAAO,MACPC,YAAa,QACbC,YAAa,MACbC,SAAU,GACVC,QAAS,GACTC,aAAc,IAQd,SACKP,KC8GEQ,EAlIH,WACV,MAA+BC,mBAAS,IAAxC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOhB,EAAP,KAAgBmB,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOf,EAAP,KAAkBmB,EAAlB,KACA,EAA8CJ,mBAAS,IAAvD,mBAAOzB,EAAP,KAAwB8B,EAAxB,KACA,EAA4CL,mBAAS,MAArD,mBAAOM,EAAP,KAAuBC,EAAvB,KACA,EAAwCP,mBAAS,MAAjD,mBAAOQ,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRC,IAEGnD,MAAK,SAAAoD,GACJV,EAAWU,GACXP,EAAmBO,QAEtB,IA+FH,OACE,gCACE,2CACA,cAAC,EAAD,CAActB,OAAQ,UAAWC,QAASe,IAC1C,cAAC,EAAD,CAAchB,OAAQ,QAASC,QAASiB,IACxC,cAAC,EAAD,CAAQ9B,aATU,SAACmC,GACrBR,EAAmBJ,EAAQa,QAAO,SAAA7C,GAAM,OAA6E,IAAzEA,EAAOE,KAAK4C,cAAcC,QAAQH,EAAMI,OAAO9B,MAAM4B,sBAS/F,2CACA,cAAC,EAAD,CACElC,aA7Fe,SAACgC,GAGpB,GAFAA,EAAMK,iBAEFjB,EAAQkB,MAAK,SAAAlD,GAAM,OAAIA,EAAOE,OAASa,MACzC,GAAIoC,OAAOC,QAAP,UAAkBrC,EAAlB,2EAAoG,CACtG,IAAMf,EAASgC,EAAQkB,MAAK,SAAAlD,GAAM,OAAIA,EAAOE,OAASa,KAChDsC,EAAa,2BAAQrD,GAAR,IAAgBG,OAAOa,IAE1C0B,EACUW,EAAczD,GAAIyD,GACzB9D,MAAK,SAAAC,GACJyC,EAAWD,EAAQzB,KAAI,SAAAP,GAAM,OAAIA,EAAOJ,KAAOyD,EAAczD,GAAKyD,EAAgBrD,MAClFoC,EAAmB9B,EAAgBC,KAAI,SAAAP,GAAM,OAAIA,EAAOJ,KAAOyD,EAAczD,GAAKyD,EAAgBrD,MAClGkC,EAAW,IACXC,EAAa,IACbG,EAAkB,yBAGlBgB,YAAW,WACThB,EAAkB,QACjB,QAEJiB,OAAM,SAAAC,GACLhB,EAAgB,GAAD,OACVgB,EAAMhE,SAASC,KAAK+D,QAEzBF,YAAW,WACTd,EAAgB,QACf,cASTE,EALqB,CACnBxC,KAAMa,EACNZ,OAAQa,IAKPzB,MAAK,SAAAkE,GACJxB,EAAWD,EAAQ0B,OAAOD,IAC1BrB,EAAmB9B,EAAgBoD,OAAOD,IAC1CvB,EAAW,IACXC,EAAa,IACbG,EAAkB,SAAD,OACNvB,IAEXuC,YAAW,WACThB,EAAkB,QACjB,QAEFiB,OAAM,SAAAC,GACLhB,EAAgB,GAAD,OACVgB,EAAMhE,SAASC,KAAK+D,QAEzBF,YAAW,WACTd,EAAgB,QACf,SAqCP3B,iBAtGmB,SAAC+B,GACxBV,EAAWU,EAAMI,OAAO9B,QAsGpBJ,mBAnGqB,SAAC8B,GAC1BT,EAAaS,EAAMI,OAAO9B,QAmGtBH,QAASA,EACTC,UAAWA,IAEb,yCACA,cAAC,EAAD,CAASV,gBAAiBA,EAAiBL,aApC1B,SAACL,GACpB,IAAM+D,EAAiB3B,EAAQkB,MAAK,SAAAlD,GAAM,OAAIA,EAAOJ,KAAOA,KACxDuD,OAAOC,QAAP,iBAAyBO,EAAezD,KAAxC,QACFwC,EACU9C,GACPL,MAAK,SAAAC,GACJyC,EAAWD,EAAQa,QAAO,SAAA7C,GAAM,OAAIA,EAAOJ,KAAOA,MAClDwC,EAAmB9B,EAAgBuC,QAAO,SAAA7C,GAAM,OAAIA,EAAOJ,KAAOA,SAEnE2D,OAAM,SAAAC,GACLI,MAAM,gDCvGhBC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.6b91841e.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst cancel = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id,newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    cancel,\n    update\n}","import React from 'react'\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <li>{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ filteredPersons, handleDelete }) => {\n  return (\n    <ul>\n      {filteredPersons.map((person) => <Person key={person.name} person={person} handleDelete={handleDelete}/>)}\n    </ul>\n  )\n}\n\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({ handleChange }) => {\n  return (\n    <div>\n      filter shown with <input onChange={handleChange}/>\n    </div>\n  )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({handleSubmit, handleNameChange, handleNumberChange, newName, newNumber}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input\n          onChange={handleNameChange}\n          value={newName}\n        />\n      </div>\n      <div>\n        number: <input\n          onChange={handleNumberChange}\n          value={newNumber}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ status, message }) => {\n    const successStyle = {\n        color: 'green',\n        borderStyle: 'solid',\n        borderColor: 'green',\n        fontSize: 20,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    const errorStyle = {\n        color: 'red',\n        borderStyle: 'solid',\n        borderColor: 'red',\n        fontSize: 20,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={status === 'success' ? successStyle : errorStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons ] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState([])\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        setFilteredPersons(initialPersons)\n      })\n  }, [])\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(person => person.name === newName)\n        const changedPerson = { ...person, number:newNumber}\n\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id === changedPerson.id ? changedPerson : person))\n            setFilteredPersons(filteredPersons.map(person => person.id === changedPerson.id ? changedPerson : person))\n            setNewName('')\n            setNewNumber('')\n            setSuccessMessage(\n              `phone number replaced`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `${error.response.data.error}`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setFilteredPersons(filteredPersons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(\n            `added ${newName}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `${error.response.data.error}`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n\n    }\n\n  }\n\n  const handleDelete = (id) => {\n    const personToDelete = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personToDelete.name} ?`)) {\n      personService\n        .cancel(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          setFilteredPersons(filteredPersons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          alert(\n            `Person already deleted from server`\n          )\n        })\n    }\n  }\n\n  const filterPersons = (event) => {\n    setFilteredPersons(persons.filter(person => person.name.toLowerCase().indexOf(event.target.value.toLowerCase()) !== -1 ))\n  } \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification status={'success'} message={successMessage} />\n      <Notification status={'error'} message={errorMessage} />\n      <Filter handleChange={filterPersons} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}